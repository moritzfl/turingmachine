/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'edu.sc.seis.launch4j' version '2.4.6'
    id 'com.github.johnrengelman.shadow' version '5.0.0'
    id 'application'
    id "edu.sc.seis.macAppBundle" version "2.3.0"
}

application {
    mainClassName = 'de.moritzf.turingmachine.gui.RunTuringGui'
}

run {
    args = ['-NSRequiresAquaSystemAppearance','False']
}

repositories {
    mavenLocal()
    maven {
        url = 'http://central.maven.org/maven2/'
    }

    maven {
        url = 'https://jitpack.io'
    }

    maven {
        url = 'http://repo.maven.apache.org/maven2'
    }
}

dependencies {
    compile 'org.scilab.forge:jlatexmath:1.0.7'
    compile 'com.bulenkov:darcula:2018.2'
}

group = 'com.github.moritzfl'
version = '1.2.1'
description = 'turingmachine'
sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8
mainClassName = 'de.moritzf.turingmachine.gui.RunTuringGui'



launch4j {
    mainClassName = 'de.moritzf.turingmachine.gui.RunTuringGui'
    icon = "${projectDir}/src/main/resources/icon.ico"
    jar = "${projectDir}/build/libs/${project.tasks.shadowJar.archiveName}"
}

manifest {
    attributes 'Main-Class': mainClassName
}

tasks.createExe.dependsOn('shadowJar')

macAppBundle {
    version = "$version"
    mainClassName = "de.moritzf.turingmachine.gui.RunTuringGui"
    bundleExecutable = "${description}"
    bundleIdentifier = "${group}.${description}"
    icon = "${projectDir}/src/main/resources/icon.icns"
    bundleJRE = false
    runtimeConfigurationName = 'shadow'
    jarTask = 'shadowJar'
    bundleExtras.put("NSRequiresAquaSystemAppearance", "NO")
}

